<div class="sidenav">
  <button mat-fab class="back" color="primary"  [routerLink]="['/dashboard/project-detail']">
      <mat-icon class="icon">keyboard_backspace</mat-icon>
  </button>
</div>
<div class="main"> 
  <mat-card>
    <mat-card-header>
      <mat-card-title class="card-container-left" *ngIf="isPB">Product Backlog</mat-card-title>
      <mat-card-title class="card-container-left" *ngIf="isSB">Sprint Backlog #{{sbId}}</mat-card-title>
      <mat-card-title class="card-container-right">
        <button mat-raised-button *ngIf="isPB && !isShared" color="primary" class="btn" type="submit" 
          (click)="openDialog('Create PB Item', data)">Add item
        </button>
        <button mat-raised-button *ngIf="isSB" color="primary" class="btn" type="submit"
          (click)="openDialog('Add SB Item', data)">Add Item
        </button>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>        
      <div [formGroup]="itemForm" (ngSubmit)="submit()">
         <table mat-table [dataSource]="dataSource" matSort>
             <ng-container matColumnDef="no">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
               <td mat-cell *matCellDef="let element; let i = index;">{{i+1}}</td>
             </ng-container>
         
             <ng-container matColumnDef="pb_id">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> PB ID </th>
               <td mat-cell *matCellDef="let element"> {{element.pb_id}} </td>
             </ng-container>
           
             <ng-container matColumnDef="sb_id" *ngIf="isSB"> 
               <th mat-header-cell *matHeaderCellDef mat-sort-header> SB ID </th>
               <td mat-cell *matCellDef="let element"> {{element.sb_id}} </td>
             </ng-container>
           
             <ng-container matColumnDef="sb_item_id" *ngIf="isSB">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> SB Item ID </th>
               <td mat-cell *matCellDef="let element"> {{element.sb_item_id}} </td>
             </ng-container>
         
              <ng-container matColumnDef="desc">
                 <th mat-header-cell *matHeaderCellDef mat-sort-header> Description </th>
                 <td mat-cell *matCellDef="let element"> {{element.desc}} </td>
               </ng-container>
             
               <ng-container matColumnDef="priority">
                 <th mat-header-cell *matHeaderCellDef mat-sort-header> Priority </th>
                 <td mat-cell *matCellDef="let element"> {{element.priority}} </td>
               </ng-container>
             
               <ng-container matColumnDef="status">
                 <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                 <td mat-cell *matCellDef="let element"> {{element.status}} </td>
               </ng-container>
     
               <ng-container matColumnDef="edit">
                 <th mat-header-cell *matHeaderCellDef mat-sort-header> Edit </th>
                 <td mat-cell *matCellDef="let element">
                     <mat-icon *ngIf="isPB && !isShared" (click)="openDialog('Update PB Item',element)">edit</mat-icon>
                     <mat-icon *ngIf="isSB" (click)="openDialog('Update SB Item',element)">edit</mat-icon>
                     <mat-icon *ngIf="isPB && !isShared" (click)="openDialog('Delete PB Item',element)">delete</mat-icon>
                     <mat-icon *ngIf="isSB" (click)="openDialog('Delete SB Item',element)">delete</mat-icon>
                     <i *ngIf="isPB && isShared">Not authorised.</i>
                 </td>
               </ng-container>
           
             <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
             <tr mat-row *matRowDef="let row; columns: displayedColumns; " ></tr>
         </table>
         <!-- <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator> -->
      </div>
    </mat-card-content>
  </mat-card>
 </div>

